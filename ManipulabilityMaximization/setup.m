clear; close all; clc;

J = @(q) [- sin(q(1) + q(2) + q(3) + q(4) + q(5))/2 - sin(q(1) + q(2) + q(3))/2 - sin(q(1) + q(2) + q(3) + q(4))/2 - sin(q(1) + q(2))/2 - sin(q(1))/2, - sin(q(1) + q(2) + q(3) + q(4) + q(5))/2 - sin(q(1) + q(2) + q(3))/2 - sin(q(1) + q(2) + q(3) + q(4))/2 - sin(q(1) + q(2))/2, - sin(q(1) + q(2) + q(3) + q(4) + q(5))/2 - sin(q(1) + q(2) + q(3))/2 - sin(q(1) + q(2) + q(3) + q(4))/2, - sin(q(1) + q(2) + q(3) + q(4) + q(5))/2 - sin(q(1) + q(2) + q(3) + q(4))/2, -sin(q(1) + q(2) + q(3) + q(4) + q(5))/2; 
            cos(q(1) + q(2) + q(3))/2 + cos(q(1) + q(2) + q(3) + q(4))/2 + cos(q(1) + q(2))/2 + cos(q(1))/2 + cos(q(1) + q(2) + q(3) + q(4) + q(5))/2, cos(q(1) + q(2) + q(3))/2 + cos(q(1) + q(2) + q(3) + q(4))/2 + cos(q(1) + q(2))/2 + cos(q(1) + q(2) + q(3) + q(4) + q(5))/2, cos(q(1) + q(2) + q(3))/2 + cos(q(1) + q(2) + q(3) + q(4))/2 + cos(q(1) + q(2) + q(3) + q(4) + q(5))/2, cos(q(1) + q(2) + q(3) + q(4))/2 + cos(q(1) + q(2) + q(3) + q(4) + q(5))/2, cos(q(1) + q(2) + q(3) + q(4) + q(5))/2];

T = @(q) [cos(q(1) + q(2) + q(3))/2 + cos(q(1) + q(2) + q(3) + q(4))/2 + cos(q(1) + q(2))/2 + cos(q(1))/2 + cos(q(1) + q(2) + q(3) + q(4) + q(5))/2;
        sin(q(1) + q(2) + q(3) + q(4) + q(5))/2 + sin(q(1) + q(2) + q(3))/2 + sin(q(1) + q(2) + q(3) + q(4))/2 + sin(q(1) + q(2))/2 + sin(q(1))/2];

dJ_dq1 = @(q) [- cos(q(1) + q(2) + q(3))/2 - cos(q(1) + q(2) + q(3) + q(4))/2 - cos(q(1) + q(2))/2 - cos(q(1))/2 - cos(q(1) + q(2) + q(3) + q(4) + q(5))/2, - cos(q(1) + q(2) + q(3))/2 - cos(q(1) + q(2) + q(3) + q(4))/2 - cos(q(1) + q(2))/2 - cos(q(1) + q(2) + q(3) + q(4) + q(5))/2, - cos(q(1) + q(2) + q(3))/2 - cos(q(1) + q(2) + q(3) + q(4))/2 - cos(q(1) + q(2) + q(3) + q(4) + q(5))/2, - cos(q(1) + q(2) + q(3) + q(4))/2 - cos(q(1) + q(2) + q(3) + q(4) + q(5))/2, -cos(q(1) + q(2) + q(3) + q(4) + q(5))/2; - sin(q(1) + q(2) + q(3) + q(4) + q(5))/2 - sin(q(1) + q(2) + q(3))/2 - sin(q(1) + q(2) + q(3) + q(4))/2 - sin(q(1) + q(2))/2 - sin(q(1))/2, - sin(q(1) + q(2) + q(3) + q(4) + q(5))/2 - sin(q(1) + q(2) + q(3))/2 - sin(q(1) + q(2) + q(3) + q(4))/2 - sin(q(1) + q(2))/2, - sin(q(1) + q(2) + q(3) + q(4) + q(5))/2 - sin(q(1) + q(2) + q(3))/2 - sin(q(1) + q(2) + q(3) + q(4))/2, - sin(q(1) + q(2) + q(3) + q(4) + q(5))/2 - sin(q(1) + q(2) + q(3) + q(4))/2, -sin(q(1) + q(2) + q(3) + q(4) + q(5))/2];
dJ_dq2 = @(q) [- cos(q(1) + q(2) + q(3))/2 - cos(q(1) + q(2) + q(3) + q(4))/2 - cos(q(1) + q(2))/2 - cos(q(1) + q(2) + q(3) + q(4) + q(5))/2, - cos(q(1) + q(2) + q(3))/2 - cos(q(1) + q(2) + q(3) + q(4))/2 - cos(q(1) + q(2))/2 - cos(q(1) + q(2) + q(3) + q(4) + q(5))/2, - cos(q(1) + q(2) + q(3))/2 - cos(q(1) + q(2) + q(3) + q(4))/2 - cos(q(1) + q(2) + q(3) + q(4) + q(5))/2, - cos(q(1) + q(2) + q(3) + q(4))/2 - cos(q(1) + q(2) + q(3) + q(4) + q(5))/2, -cos(q(1) + q(2) + q(3) + q(4) + q(5))/2; - sin(q(1) + q(2) + q(3) + q(4) + q(5))/2 - sin(q(1) + q(2) + q(3))/2 - sin(q(1) + q(2) + q(3) + q(4))/2 - sin(q(1) + q(2))/2, - sin(q(1) + q(2) + q(3) + q(4) + q(5))/2 - sin(q(1) + q(2) + q(3))/2 - sin(q(1) + q(2) + q(3) + q(4))/2 - sin(q(1) + q(2))/2, - sin(q(1) + q(2) + q(3) + q(4) + q(5))/2 - sin(q(1) + q(2) + q(3))/2 - sin(q(1) + q(2) + q(3) + q(4))/2, - sin(q(1) + q(2) + q(3) + q(4) + q(5))/2 - sin(q(1) + q(2) + q(3) + q(4))/2, -sin(q(1) + q(2) + q(3) + q(4) + q(5))/2];
dJ_dq3 = @(q) [- cos(q(1) + q(2) + q(3))/2 - cos(q(1) + q(2) + q(3) + q(4))/2 - cos(q(1) + q(2) + q(3) + q(4) + q(5))/2, - cos(q(1) + q(2) + q(3))/2 - cos(q(1) + q(2) + q(3) + q(4))/2 - cos(q(1) + q(2) + q(3) + q(4) + q(5))/2, - cos(q(1) + q(2) + q(3))/2 - cos(q(1) + q(2) + q(3) + q(4))/2 - cos(q(1) + q(2) + q(3) + q(4) + q(5))/2, - cos(q(1) + q(2) + q(3) + q(4))/2 - cos(q(1) + q(2) + q(3) + q(4) + q(5))/2, -cos(q(1) + q(2) + q(3) + q(4) + q(5))/2; - sin(q(1) + q(2) + q(3) + q(4) + q(5))/2 - sin(q(1) + q(2) + q(3))/2 - sin(q(1) + q(2) + q(3) + q(4))/2, - sin(q(1) + q(2) + q(3) + q(4) + q(5))/2 - sin(q(1) + q(2) + q(3))/2 - sin(q(1) + q(2) + q(3) + q(4))/2, - sin(q(1) + q(2) + q(3) + q(4) + q(5))/2 - sin(q(1) + q(2) + q(3))/2 - sin(q(1) + q(2) + q(3) + q(4))/2, - sin(q(1) + q(2) + q(3) + q(4) + q(5))/2 - sin(q(1) + q(2) + q(3) + q(4))/2, -sin(q(1) + q(2) + q(3) + q(4) + q(5))/2];
dJ_dq4 = @(q) [- cos(q(1) + q(2) + q(3) + q(4))/2 - cos(q(1) + q(2) + q(3) + q(4) + q(5))/2, - cos(q(1) + q(2) + q(3) + q(4))/2 - cos(q(1) + q(2) + q(3) + q(4) + q(5))/2, - cos(q(1) + q(2) + q(3) + q(4))/2 - cos(q(1) + q(2) + q(3) + q(4) + q(5))/2, - cos(q(1) + q(2) + q(3) + q(4))/2 - cos(q(1) + q(2) + q(3) + q(4) + q(5))/2, -cos(q(1) + q(2) + q(3) + q(4) + q(5))/2; - sin(q(1) + q(2) + q(3) + q(4) + q(5))/2 - sin(q(1) + q(2) + q(3) + q(4))/2, - sin(q(1) + q(2) + q(3) + q(4) + q(5))/2 - sin(q(1) + q(2) + q(3) + q(4))/2, - sin(q(1) + q(2) + q(3) + q(4) + q(5))/2 - sin(q(1) + q(2) + q(3) + q(4))/2, - sin(q(1) + q(2) + q(3) + q(4) + q(5))/2 - sin(q(1) + q(2) + q(3) + q(4))/2, -sin(q(1) + q(2) + q(3) + q(4) + q(5))/2];
dJ_dq5 = @(q) [-cos(q(1) + q(2) + q(3) + q(4) + q(5))/2, -cos(q(1) + q(2) + q(3) + q(4) + q(5))/2, -cos(q(1) + q(2) + q(3) + q(4) + q(5))/2, -cos(q(1) + q(2) + q(3) + q(4) + q(5))/2, -cos(q(1) + q(2) + q(3) + q(4) + q(5))/2; -sin(q(1) + q(2) + q(3) + q(4) + q(5))/2, -sin(q(1) + q(2) + q(3) + q(4) + q(5))/2, -sin(q(1) + q(2) + q(3) + q(4) + q(5))/2, -sin(q(1) + q(2) + q(3) + q(4) + q(5))/2, -sin(q(1) + q(2) + q(3) + q(4) + q(5))/2];